{"version":3,"file":"guid.js","sourceRoot":"","sources":["../../../shared/api/guid.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4DAAgD;AAChD,kEAAuC;AACvC,6CAAwC;AAExC,IAAM,OAAO,GAAG;IACd,GAAG,EAAE;QACH,YAAY;QACZ,mBAAmB,EAAE,+CAA+C;QACpE,iBAAiB;QACjB,iBAAiB,EAAE,8CAA8C;KAClE;IACD,OAAO,EAAE;QACP,YAAY;QACZ,mBAAmB,EAAE,8CAA8C;QACnE,iBAAiB;QACjB,iBAAiB,EAAE,8CAA8C;KAClE;CACF,CAAC;AACF,IAAM,UAAU,GAAG,uBAAQ,CAAC,MAAM,CAAyB,OAAO,CAAC,CAAC;AAEpE,IAAM,UAAU,GAAG;IACjB,GAAG,EAAE,8CAA8C;IACnD,OAAO,EAAE,8CAA8C;CACxD,CAAC;AACF,IAAM,IAAI,GAAG,uBAAQ,CAAC,MAAM,CAAS,UAAU,CAAC,CAAC;AAEjD,SAAgB,OAAO;IACrB,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,wBAAS,CAAC,oBAAoB,CAAC,EAAE;QAC1E,IAAI,CAAC,IAAI;YACP,MAAM,IAAI,KAAK,CACb,4CACE,uBAAQ,CAAC,EAAE,oDACkC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAG,CACpF,CAAC;QACJ,OAAO,IAAI,CAAC;KACb;SAAM,IAAI,wBAAS,CAAC,oBAAoB,KAAK,MAAM,EAAE;QACpD,IAAI,CAAC,UAAU,EAAE;YACf,MAAM,IAAI,KAAK,CACb,kDACE,uBAAQ,CAAC,EAAE,oDACkC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAG,CACjF,CAAC;SACH;QAED,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC,CAAC;SAC1E;QACD,IAAI,CAAC,CAAC,WAAW,CAAC,aAAa,IAAI,UAAU,CAAC,EAAE;YAC9C,MAAM,IAAI,KAAK,CACb,sCAAoC,WAAW,CAAC,aAAa,gCAC3D,uBAAQ,CAAC,EAAE,kCACgB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAG,CAClE,CAAC;SACH;QACD,OAAO,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAC9C;SAAM;QACL,MAAM,IAAI,KAAK,CACb,iDAA+C,wBAAS,CAAC,oBAAsB,CAChF,CAAC;KACH;AACH,CAAC;AAlCD,0BAkCC","sourcesContent":["import * as Application from 'expo-application';\nimport Constants from 'expo-constants';\nimport { Platform } from 'react-native';\n\nconst bareMap = {\n  ios: {\n    // bare-expo\n    'dev.expo.Payments': '629683148649-uvkfsi3pckps3lc4mbc2mi7pna8pqej5',\n    // NCL standalone\n    'host.exp.nclexp': '29635966244-1vu5o3e9ucoh12ujlsjpn30kt3dbersv',\n  },\n  android: {\n    // bare-expo\n    'dev.expo.payments': '29635966244-knmlpr1upnv6rs4bumqea7hpit4o7kg2',\n    // NCL standalone\n    'host.exp.nclexp': '29635966244-lbejmv84iurcge3hn7fo6aapu953oivs',\n  },\n};\nconst BARE_GUIDs = Platform.select<Record<string, string>>(bareMap);\n\nconst managedMap = {\n  ios: '29635966244-td9jmh1m5trn8uuqa0je1mansia76cln',\n  android: '29635966244-knmlpr1upnv6rs4bumqea7hpit4o7kg2',\n};\nconst GUID = Platform.select<string>(managedMap);\n\nexport function getGUID(): string {\n  if (['storeClient', 'standalone'].includes(Constants.executionEnvironment)) {\n    if (!GUID)\n      throw new Error(\n        `No valid GUID for Expo Go on platform: ${\n          Platform.OS\n        }. Supported native platforms are currently: ${Object.keys(managedMap).join(', ')}`\n      );\n    return GUID;\n  } else if (Constants.executionEnvironment === 'bare') {\n    if (!BARE_GUIDs) {\n      throw new Error(\n        `No valid GUID for bare projects on platform: ${\n          Platform.OS\n        }. Supported native platforms are currently: ${Object.keys(bareMap).join(', ')}`\n      );\n    }\n\n    if (!Application.applicationId) {\n      throw new Error('Cannot get GUID with null `Application.applicationId`');\n    }\n    if (!(Application.applicationId in BARE_GUIDs)) {\n      throw new Error(\n        `No valid GUID for native app Id: ${Application.applicationId}. Valid GUIDs exist for ${\n          Platform.OS\n        } projects with native Id: ${Object.keys(BARE_GUIDs).join(', ')}`\n      );\n    }\n    return BARE_GUIDs[Application.applicationId];\n  } else {\n    throw new Error(\n      `No GUID available for executionEnvironment: ${Constants.executionEnvironment}`\n    );\n  }\n}\n"]}